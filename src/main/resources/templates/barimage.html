<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
    <!--<meta charset="UTF-8">-->
    <!--<title>tu</title>-->
    <!--<canvas id="a_canvas" width="1000" height="700"></canvas>-->
    <!--<script>-->
        <!--(function (){-->

            <!--window.addEventListener("load", function(){-->

                <!--var data = [1000,1300,2000,3000,2000,2000,1000,1500,2000,5000,1000,1000];-->
                <!--var xinforma = ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'];-->

                <!--// 获取上下文-->
                <!--var a_canvas = document.getElementById('a_canvas');-->
                <!--var context = a_canvas.getContext("2d");-->


                <!--// 绘制背景-->
                <!--var gradient = context.createLinearGradient(0,0,0,300);-->


                <!--gradient.addColorStop(0,"#e0e0e0");-->
                <!--gradient.addColorStop(1,"#ffffff");-->


                <!--context.fillStyle = gradient;-->

                <!--context.fillRect(0,0,a_canvas.width,a_canvas.height);-->

                <!--var realheight = a_canvas.height-15;-->
                <!--var realwidth = a_canvas.width-40;-->
                <!--// 描绘边框-->
                <!--var grid_cols = data.length + 1;-->
                <!--var grid_rows = 4;-->
                <!--var cell_height = realheight / grid_rows;-->
                <!--var cell_width = realwidth / grid_cols;-->
                <!--context.lineWidth = 1;-->
                <!--context.strokeStyle = "#a0a0a0";-->

                <!--// 结束边框描绘-->
                <!--context.beginPath();-->
                <!--// 准备画横线-->
                <!--for(var row = 1; row <= grid_rows; row++){-->
                  <!--var y = row * cell_height;-->
                  <!--context.moveTo(0,y);-->
                  <!--context.lineTo(a_canvas.width, y);-->
                <!--}-->

                <!--//划横线-->
                <!--context.moveTo(0,realheight);-->
                <!--context.lineTo(realwidth,realheight);-->


                <!--//画竖线-->
                <!--context.moveTo(0,20);-->
                <!--context.lineTo(0,realheight);-->
                <!--context.lineWidth = 1;-->
                <!--context.strokeStyle = "black";-->
                <!--context.stroke();-->


                <!--var max_v =0;-->

                <!--for(var i = 0; i<data.length; i++){-->
                    <!--if (data[i] > max_v) { max_v =data[i]};-->
                <!--}-->
                <!--max_v = max_v * 1.1;-->
                <!--// 将数据换算为坐标-->
                <!--var points = [];-->
                <!--for( var i=0; i < data.length; i++){-->
                    <!--var v= data[i];-->
                    <!--var px = cell_width *　(i +1);-->
                    <!--var py = realheight - realheight*(v / max_v);-->
                    <!--//alert(py);-->
                    <!--points.push({"x":px,"y":py});-->
                <!--}-->

                <!--//绘制坐标图形-->
                <!--for(var i in points){-->
                    <!--var p = points[i];-->
                    <!--context.beginPath();-->
                    <!--context.fillStyle="green";-->
                    <!--context.fillRect(p.x,p.y,15,realheight-p.y);-->

                    <!--context.fill();-->
                <!--}-->
                <!--//添加文字-->
                <!--for(var i in points)-->
                <!--{  var p = points[i];-->
                    <!--context.beginPath();-->
                    <!--context.fillStyle="black";-->
                    <!--context.fillText(data[i], p.x + 1, p.y - 15);-->
                    <!--context.fillText(xinforma[i],p.x + 1,realheight+12);-->
                    <!--context.fillText('月份',realwidth,realheight+12);-->
                    <!--context.fillText('资金量',0,10);-->
                <!--}-->
            <!--},false);-->
        <!--})();-->

    <!--</script>-->
<!--</head>-->
<!--<body>-->

<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="/js/Chart.min.js"></script>
    <script>
        var chartData = {
            // x轴显示的label
            labels:['1月', '2月', '3月', '4月', '5月', '6月', '7月'],
            datasets:[
                {
                    fillColor:'#62a8ea',// 填充色
                    data:[60, 70, 80, 56, -40, 90, 58], // 数据
                    label:'月销售量' // 图例
                }
            ]
        };
        // 柱状图选项设置
        var configs  = {
            scaleOverlay : false,  // 网格线是否在数据线的上面
            scaleOverride : false, // 是否用硬编码重写y轴网格线
            scaleSteps : null, //y轴刻度的个数
            scaleStepWidth : null, //y轴每个刻度的宽度
            scaleStartValue : null,  //y轴的起始值
            scaleLineColor : "rgba(0,0,0,.1)",// x轴y轴的颜色
            scaleLineWidth : 1,// x轴y轴的线宽
            scaleShowLabels : true,// 是否显示y轴的标签
            scaleLabel : "<%=value%>",// 标签显示值
            scaleFontFamily : "'Arial'",// 标签的字体
            scaleFontSize : 12,// 标签字体的大小
            scaleFontStyle : "normal",// 标签字体的样式
            scaleFontColor : "#666",// 标签字体的颜色
            scaleShowGridLines : false,// 是否显示网格线
            scaleGridLineColor : "rgba(0,0,0,.05)",    // 网格线的颜色
            scaleGridLineWidth : 1, // 网格线的线宽
            scaleBeginAtZero: false, // y轴标记是否从0开始
            scaleShowHorizontalLines: true, // 是否显示横向线
            scaleShowVerticalLines: true, // 是否显示竖向线
            barShowStroke : true, // 是否显示线
            barStrokeWidth : 2,   // 线宽
            barValueSpacing : 5,// 柱状块与x值所形成的线之间的距离
            barDatasetSpacing : 1,// 在同一x值内的柱状块之间的间距
            animation : true,//是否有动画效果
            animationSteps : 60,//动画的步数
            animationEasing : "easeOutQuart",// 动画的效果
            showTooltips: false, // 是否显示提示
            // 图例
            legendTemplate : '<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
            // 动画完成后调用的函数(每个柱上显示对应的数据)
            onAnimationComplete: function () {
                var ctx = this.chart.ctx;
                ctx.font = this.scale.font;
                ctx.fillStyle = this.scale.textColor;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'bottom';
                this.datasets.forEach(function (dataset){
                    dataset.bars.forEach(function (bar) {
                        ctx.fillText(bar.value, bar.x, bar.y);
                    });
                });
            }
        };

        // 开始绘制柱状图
        var ctx = document.getElementById('bar').getContext('2d');
        var bar = new Chart(ctx).Bar(chartData, configs);
        var legend = document.getElementById('legend');
        // 图例
        legend.innerHTML = bar.generateLegend();

    </script>
    <title>bar chart</title>
    <style>
        .bar-legend li span {
            width: 1em;
            height: 1em;
            display: inline-block;
            margin-right: 5px;
        }

        .bar-legend {
            list-style: none;
        }
    </style>


</head>
<body>
<div class="bar-chart">
    <h5 class="bar-title">XX饮料营业额情况一览表</h5>
    <canvas id="bar" width=400 height=400></canvas>
    <div id="legend"></div>
</div>
</body>
</html>
